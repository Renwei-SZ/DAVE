#!/bin/bash

LEVEL=$1

build()
{
   echo -e "build project on : \033[35m${LEVEL}\033[0m"

   for project_name in $(ls ./)
      do
         [ -d $project_name ] && echo -e "   -> \033[35m$project_name\033[0m" && cd $project_name && ./clean > /dev/null && ./build $LEVEL > /dev/null && cd ../
      done
   cd $project_name && ./clean > /dev/null && cd ../
   echo -e "done!"
}

if [[ "$LEVEL" == "" ]] || [[ "$LEVEL" == "alpha" ]]; then
   LEVEL="alpha"
   build
fi

if [ "$LEVEL" == "beta" ]; then
   LEVEL="beta"
   build
fi

if [ "$LEVEL" == "all" ]; then
   LEVEL="alpha"
   build
   echo
   LEVEL="beta"
   build
fi
