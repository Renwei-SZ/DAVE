#!/bin/bash

if [ ! -f /.dockerenv ]; then
    ondocker='FALSE'
else
    ondocker='TRUE'
fi

apt -y update

apt -y install net-tools

apt -y install openssh-server

apt -y install curl

apt -y install psmisc

apt -y install telnet

apt -y install cmake

apt -y install git 

apt -y install automake

apt -y install sshpass

apt -y install expect

apt -y install vim

apt -y install pciutils

apt -y install libtool

apt -y install libboost-dev

apt -y install libglew-dev

apt -y install libghc-glut-dev

apt -y install libdevil-dev

apt -y install libeigen3-dev

apt -y install libpng-dev

apt -y install lsof

apt -y install htop

apt -y install opencl-headers opencl-dev

apt -y install build-essential

apt -y install libgtk2.0-dev pkg-config libavcodec-dev libavformat-dev libswscale-dev

apt -y install libtbb2 libtbb-dev libjpeg-dev libtiff-dev libjasper-dev libdc1394-22-dev

apt -y install libgtk-3-dev libv4l-dev gfortran openexr libatlas-base-dev libopenexr-dev libgstreamer-plugins-base1.0-dev libgstreamer1.0-dev

apt -y install libxvidcore-dev libx264-dev

apt -y install mpi-default-dev

apt -y install libicu-dev

apt -y install libbz2-dev

apt -y install uuid-dev

apt -y install libgl1-mesa-glx

apt -y install libglib2.0-dev

apt -y install openssl libssl-dev

if [ "$ondocker" == "FALSE" ]; then
    timedatectl set-timezone Asia/Shanghai

    apt -y install redis
    systemctl start redis

    apt -y install samba
    apt -y install samba-client
    apt -y install samba-common
    systemctl restart smbd
    systemctl enable smbd
    smbpasswd -a root

    apt -y install docker.io
    systemctl start docker
    systemctl enable docker
fi